warning: Git tree '/home/ceedrich/dotfiles' is dirty
building the system configuration...
warning: Git tree '/home/ceedrich/dotfiles' is dirty
error:
       … while calling the 'head' builtin
         at /nix/store/g9863dnbpnfa7vz8c1s1idwbg7c5j0bb-source/lib/attrsets.nix:1571:13:
         1570|           if length values == 1 || pred here (elemAt values 1) (head values) then
         1571|             head values
             |             ^
         1572|           else

       … while evaluating the attribute 'value'
         at /nix/store/g9863dnbpnfa7vz8c1s1idwbg7c5j0bb-source/lib/modules.nix:1083:7:
         1082|     // {
         1083|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1084|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `system.build.toplevel':

       … while evaluating definitions from `/nix/store/g9863dnbpnfa7vz8c1s1idwbg7c5j0bb-source/nixos/modules/system/activation/top-level.nix':

       … while evaluating the option `warnings':

       … while evaluating definitions from `/nix/store/g9863dnbpnfa7vz8c1s1idwbg7c5j0bb-source/nixos/modules/system/boot/systemd.nix':

       … while evaluating the option `systemd.services.home-manager-ceedrich.serviceConfig':

       … while evaluating definitions from `/nix/store/a4la088hi5id7sw77gy9zdvwn83dgczz-source/nixos':

       … while evaluating the option `home-manager.users.ceedrich.home.activation.checkFilesChanged.data':

       … while evaluating definitions from `/nix/store/a4la088hi5id7sw77gy9zdvwn83dgczz-source/modules/files.nix':

       … while evaluating the option `home-manager.users.ceedrich.home.file."/home/ceedrich/.config/waybar/config".source':

       … while evaluating definitions from `/nix/store/a4la088hi5id7sw77gy9zdvwn83dgczz-source/modules/misc/xdg.nix':

       … while evaluating the option `home-manager.users.ceedrich.xdg.configFile."waybar/config".source':

       … while evaluating definitions from `/nix/store/fd608715a7a824lglwn4yi286x8xrll0-source/nixos/homemanagerModules/hyprland/waybar':

       (stack trace truncated; use '--show-trace' to show the full, detailed trace)

       error: infinite recursion encountered
       at /nix/store/g9863dnbpnfa7vz8c1s1idwbg7c5j0bb-source/lib/attrsets.nix:1288:25:
         1287|   */
         1288|   isDerivation = value: value.type or null == "derivation";
             |                         ^
         1289|
